<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Escaping</title>
</head>
<body>
<div><label for="userInput">Paste test input here:</label></div>
<div>
    <textarea rows="12" cols="40" id="userInput"></textarea>
    <input type="button" value="Escape"
           onclick="document.getElementById('result').innerHTML = htmlEscape(JSON.parse(document.getElementById('userInput').value.replace(/'/g, String.fromCharCode(34))));"/>
</div>
<div><label for="result">Results will show up here:</label></div>
<div id="result"></div>
<script>
    function htmlList(items) {
        return "<ul>\n" +
            items.map(htmlEscape).map(
                item => `  <li>${item}</li>`).join("\n") +
            "</ul>\n";
        function htmlEscape(text) {
            let map = { '"': '&quot;', '&': '&amp;',
                "'": '&#39;', '<': '&lt;', '>': '&gt;' };
            return text.replace(/[\"&'<>]/g, ch => map[ch]);
        }
    }
</script>
</body>
</html>